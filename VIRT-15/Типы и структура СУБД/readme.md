# Домашнее задание к занятию "6.1. Типы и структура СУБД"

---

## Задача 1
> Архитектор ПО решил проконсультироваться у вас, какой тип БД 
> лучше выбрать для хранения определенных данных.
> Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
> - Электронные чеки в json виде
> - Склады и автомобильные дороги для логистической компании
> - Генеалогические деревья
> - Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
> - Отношения клиент-покупка для интернет-магазина

### Ответ на задачу 1
> - Электронные чеки в json виде

документо-ориентированная БД 

> - Склады и автомобильные дороги для логистической компании

графовая или как вариант - сетевая

> - Генеалогические деревья

иерархическая, деревья с одним деревом

> - Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

ключ-значение

> - Отношения клиент-покупка для интернет-магазина

реляционная, как и часто используется, однако под эту задачу может подойти и nosql решение, документо-ориентированное

## Задача 2

> Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
> CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
> (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):
> - Данные записываются на все узлы с задержкой до часа (асинхронная запись)
> - При сетевых сбоях, система может разделиться на 2 раздельных кластера
> - Система может не прислать корректный ответ или сбросить соединение
> А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ на задачу 2
> - Данные записываются на все узлы с задержкой до часа (асинхронная запись)

CA 

> - При сетевых сбоях, система может разделиться на 2 раздельных кластера

PA 

> - Система может не прислать корректный ответ или сбросить соединение

PC 

> А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

1. PAEL
2. PAEL
3. PCEC

## Задача 3
> Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Наверное в каких-то идеальных условиях могут, но если абстрагироваться от условий идела, то и рассматривать вопрос в общем виде, о нет. ACID - данные согласованные, а по BASE - могут быть неверные, следовательно они противоречат друг другу. В таком разрезе явное противоречие.

### Ответ на задачу 3

## Задача 4

> Вам дали задачу написать системное решение, основой которого бы послужили:
> - фиксация некоторых значений с временем жизни
> - реакция на истечение таймаута

> Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
> Что это за система? Какие минусы выбора данной системы?

### Ответ на задачу 4

Можно испольовать базу данных, но под эту задачу подойдет как кэш-система или брокер сообщений, а данным можно присваивать время жизни (TTL). 

Redis - база данных с высокой производительностью, за счет хранения данных в памяти, но это как плюс так и минус.. хранить в памяти хорошо, так как память быстрая, но в то же время у нас есть огранчения по размера и в случае проблем с физикой - получаем проблемы с обработкой. Идеально использовать в рамках кэша или как модуль микросервисной архитектуры. Если смотреть в сторону pub/sub, то база данных не хранит сообщения у себя, отправляет подписчикам и удаляет. Не приходится говорить о надежности и стабильности. Также не получится использовать SQL, т.е. сложные выборки и отборы - это не сюда.
